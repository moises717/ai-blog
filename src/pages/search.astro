---
import Layout from "@/layouts/layout.astro";
import { GlobalHeader } from "@/components/GlobalHeader";
import { SearchResults } from "@/components/SearchResults";

export const prerender = false;

// Get search query from URL
const query = Astro.url.searchParams.get("q") || "";
---

<Layout title={query ? `Búsqueda: ${query} - AI Blog` : "Búsqueda - AI Blog"}>
  <div class="space-y-6">
    <GlobalHeader client:load showSearch={true} initialQuery={query} />

    <main class="px-1 mt-6">
      <header class="mb-8">
        <h1
          class="text-3xl sm:text-4xl font-bold bg-gradient-to-r from-foreground to-muted-foreground bg-clip-text text-transparent"
        >
          Búsqueda Semántica
        </h1>
        <p class="text-muted-foreground mt-2 text-base sm:text-lg">
          Encuentra posts usando inteligencia artificial
        </p>
      </header>

      <SearchResults client:load query={query} />
    </main>
  </div>
</Layout>
